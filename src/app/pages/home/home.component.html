<div class="empleado">

  <div class="empleado_title">
    <h2>Empleados</h2>
    <button (click)="showCreateEmpleado()">Agregar Empleado</button>
  </div>

  <div class="empleado_table">
    <table>
      <tr>
        <th>Identificaci√≥n</th>
        <th>Nombre Completo</th>
        <th>Edad</th>
        <th>Apto</th>
        <th>Estado</th>
        <th>Password</th>
        <th>Departamento</th>
      </tr>
      <tr *ngFor="let emp of empleado" >
        <input #id type="text" [value]="emp.id" style="display: none;">
        <td><input #identificacion type="text" [value]="emp.identificacion"></td>
        <td><input #name  type="text" [value]="emp.nombre_completo"></td>
        <td><input #age type="text" [value]="emp.edad"></td>
        <td><input #apto type="text" [value]="emp.apto"></td>
        <td><input #state type="text" [value]="emp.estado"></td>
        <td><input #password type="text" [value]="emp.password"></td>
        <td><input #departaments type="text" [value]="emp.departamento"></td>
        <td>
          <div class="button-content">
            <button
              type="submit"
              (click)="editar({identificacion,name,age,apto,state,password,departaments,id})">
              <i class="fa-solid fa-pen-to-square"></i>
            </button>
            <button
            (click)="remove(id.value)"
              type="submit">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </table>
  </div>

  <div class="empleado_create" [class.active]="showCreate">
    <div class="empleado_create_contents">
      <h1>Crear Empleado</h1>

      <form [formGroup]="form" (ngSubmit)="create($event)">

        <div class="form_item">
          <label for="identificacion">Identificacion</label>
          <input
            placeholder="Ingrese La Identificacion"
            type="text"
            formControlName="identificacion">
        </div>

        <div *ngIf="identificationField?.invalid && (identificationField?.dirty || identificationField?.touched)">
          <strong style="color: red; margin-inline-start: 1.5rem" *ngIf="identificationField?.errors?.['required']">
            Identification Requerida
          </strong>
          <strong style="color: red; margin-inline-start: 1.5rem" *ngIf="identificationField?.errors?.['maxlength']">
            Debe Ser Menor De 8 Caracteres
          </strong>
          <strong style="color: red; margin-inline-start: 1.5rem" *ngIf="exits">
            La Identificacion Debe Ser Unica
          </strong>
      </div>

        <div class="form_item">
          <label for="name">Nombre</label>
          <input
            placeholder="Ingrese El Nombre"
            type="text"
            formControlName="nombre_completo">
        </div>

        <div class="form_item">
          <label for="age">Edad</label>
          <input
            placeholder="Ingrese La Edad"
            type="number"
            formControlName="edad">
        </div>

        <div class="form_item">
          <label for="apto">Apto</label>
          <input
            type="checkbox"
            formControlName="apto">
        </div>

        <div class="form_item">
          <label for="state">Estado</label>
          <input
            placeholder="Estado"
            type="text"
            formControlName="estado">
        </div>

        <div class="form_item">
          <label for="password">Password</label>
          <input
            placeholder="********"
            type="password"
            formControlName="password">
        </div>

        <div class="form_item">
          <select formControlName="departamento">
            <option selected value="">Selecione Un Departamento</option>
            <option value="atlantico">Atlantico</option>
            <option value="sucre">Sucre</option>
            <option value="bolivar">Bolivar</option>
          </select>
        </div>
        <div class="form_item">
          <button type="submit">Crear Empleado</button>
        </div>
      </form>
      <button (click)="showCreateEmpleado()">back</button>
    </div>
  </div>
</div>
